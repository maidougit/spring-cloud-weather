# spring-cloud-weather
1. 来源
    http://wthrcdn.etouch.cn/weather_mini?city=上海

    http://mobile.weather.com.cn?js?citylist.xml

    http://wthrcdn.etouch.cn/weather_mini?citykey=1012080601

2. 设计架构
   spring-boot-redis
   spring-boot-qurtz
   spring-boot-thefmelaf
   spring-boot-cloud

3. 单体架构和分布式架构的优缺点
优点： 功能划分很清晰，层次关系良好， ，每一层独立，部署简单，技术单一
缺点： 功能太大， 升级风险高，维护成本增加， 交互周期变长，可伸缩性变差, 监控困难

微服务：soa / webservice /

4. 微服务架构设计原则
1. 拆分足够微 
2. 轻量级通信 
3 领域驱动原则 
4. 单一原则 
5. devops  
6. 不限于技术栈  
5. 服务拆分 ， 服务注册， 服务发现， 服务消费，服务提供方， 統一入口
配置管理 熔断机制 自动扩展  
6. 意义
   1. 易于实现  2. 易于维护  3. 易于部署 4. 易于更新
7. 反馈闭环
 需求， 开发， 集成， 测试， 部署
8. 拆分
横向拆分
     数据采集 数据存储 数据查询 数据展示
纵向拆分
   用户界面层 应用层 领域层  基础设施层  
使用DDD 驱动设计原则
  天气预报系统  
      天气数据采集限界上下文 数据采集 数据存储
      天气数据api界限上下文   数据查询
      天气预报界限上下文    数据展示
      城市数据api解析上下文   数据查询

9. 网关
优点   1. 集合多个api  2. 统一多个api
     3. 避免将内部信息泄露给外部
4. 为微服务添加额外的安全层
5. 支持混合通信协议
6. 降低构建微服务的复杂性
缺点： 1. 在架构上需要额外考虑更多编排与管理
            2. 路由逻辑配置要进行统一的管理
            3. 可能引发单点故障
     解决方案： nginx 处理网关
                        zuul 认证 鉴权 限流  动态路由  监控 弹性 安全 负载均衡 协助单点压测  静态响应等边缘服务的框架
                       kong
10. 集中化配置
    1. 微服务数量多 2. 手动管理配置服务繁琐
    2.   按照配置来源划分
               开发环境 测试环境  预发生产环境  生成环境
          按配置集成阶段划分
              编译时  打包时 运行时
          按加载的方式划分
              启动加载 和 动态加载
     3. 配置中心的要求
          面向可配置的编码   隔离性   一致性   集中化配置
     4. spring cloud config 分布式外部话配置
          config server 
          config  client
